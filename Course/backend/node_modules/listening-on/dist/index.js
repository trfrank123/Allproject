"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.print = void 0;
const os_1 = require("os");
function print(port_or_options) {
    if (!port_or_options) {
        throw new TypeError('missing port or options');
    }
    const options = typeof port_or_options === 'number'
        ? { port: port_or_options }
        : port_or_options;
    const port = options.port;
    const protocol = options.protocol || 'http';
    console.log(`listening on ${protocol}://localhost:${port}`);
    const family = options.family || 'IPv4';
    const showIPv4 = family === 'IPv4' || family === 'all';
    const showIPv6 = family === 'IPv6' || family === 'all';
    Object.entries(os_1.networkInterfaces()).forEach(([name, addresses]) => {
        addresses === null || addresses === void 0 ? void 0 : addresses.forEach((address) => {
            const { address: host, family } = address;
            if (showIPv4 && (family === 'IPv4' || family === 4)) {
                console.log(`listening on ${protocol}://${host}:${port} (${name})`);
            }
            else if (showIPv6 && (family === 'IPv6' || family === 6)) {
                console.log(`listening on ${protocol}://[${host}]:${port} (${name})`);
            }
        });
    });
}
exports.print = print;
//# sourceMappingURL=index.js.map